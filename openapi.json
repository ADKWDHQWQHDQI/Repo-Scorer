{"openapi":"3.1.0","info":{"title":"DevSecOps Maturity Assessment API","description":"DevSecOps Repository Assessment API powered by Azure OpenAI","version":"1.0.0"},"paths":{"/api/health":{"get":{"summary":"Health Check","description":"Check if Azure OpenAI service is accessible","operationId":"health_check_api_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthCheckResponse"}}}}}}},"/api/results/shared/{share_token}":{"get":{"summary":"Get Shared Results","description":"Retrieve assessment results by share token (public endpoint) and track email clicks","operationId":"get_shared_results_api_results_shared__share_token__get","parameters":[{"name":"share_token","in":"path","required":true,"schema":{"type":"string","title":"Share Token"}},{"name":"email","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Encoded email for click tracking","title":"Email"},"description":"Encoded email for click tracking"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"options":{"summary":"Options Shared Results","description":"Handle CORS preflight for shared results endpoint","operationId":"options_shared_results_api_results_shared__share_token__options","parameters":[{"name":"share_token","in":"path","required":true,"schema":{"type":"string","title":"Share Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/email/save":{"post":{"summary":"Save Email","description":"Save user email to database with platform selections","operationId":"save_email_api_email_save_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaveEmailRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaveEmailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"options":{"summary":"Options Email Save","description":"Handle CORS preflight for email save endpoint","operationId":"options_email_save_api_email_save_options","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/assessment/start":{"post":{"summary":"Start Assessment","description":"Initialize a new assessment session","operationId":"start_assessment_api_assessment_start_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartAssessmentRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartAssessmentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"options":{"summary":"Options Assessment Start","description":"Handle CORS preflight for assessment start endpoint","operationId":"options_assessment_start_api_assessment_start_options","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/assessment/answer":{"post":{"summary":"Submit Answer","description":"Analyze a single answer using AI","operationId":"submit_answer_api_assessment_answer_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitAnswerRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitAnswerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"options":{"summary":"Options Assessment Answer","description":"Handle CORS preflight for assessment answer endpoint","operationId":"options_assessment_answer_api_assessment_answer_options","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/assessment/complete":{"post":{"summary":"Complete Assessment","description":"Complete assessment and generate final results","operationId":"complete_assessment_api_assessment_complete_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompleteAssessmentRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Complete Assessment Api Assessment Complete Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"options":{"summary":"Options Assessment Complete","description":"Handle CORS preflight for assessment complete endpoint","operationId":"options_assessment_complete_api_assessment_complete_options","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"CompleteAssessmentRequest":{"properties":{"session_id":{"type":"string","title":"Session Id"},"tool":{"type":"string","title":"Tool"},"answers":{"additionalProperties":{"additionalProperties":true,"type":"object"},"type":"object","title":"Answers"},"email":{"type":"string","title":"Email"}},"type":"object","required":["session_id","tool","answers","email"],"title":"CompleteAssessmentRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthCheckResponse":{"properties":{"status":{"type":"string","title":"Status"},"service_connected":{"type":"boolean","title":"Service Connected"},"deployment_available":{"type":"boolean","title":"Deployment Available"},"message":{"type":"string","title":"Message"}},"type":"object","required":["status","service_connected","deployment_available","message"],"title":"HealthCheckResponse"},"SaveEmailRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"repository_platform":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Repository Platform"},"cicd_platform":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cicd Platform"},"deployment_platform":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Deployment Platform"}},"type":"object","required":["email"],"title":"SaveEmailRequest"},"SaveEmailResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"email":{"type":"string","title":"Email"}},"type":"object","required":["success","message","email"],"title":"SaveEmailResponse"},"StartAssessmentRequest":{"properties":{"tool":{"type":"string","title":"Tool"},"cicd_platform":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cicd Platform"},"deployment_platform":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Deployment Platform"}},"type":"object","required":["tool"],"title":"StartAssessmentRequest"},"StartAssessmentResponse":{"properties":{"session_id":{"type":"string","title":"Session Id"},"questions":{"items":{},"type":"array","title":"Questions"},"pillars":{"additionalProperties":true,"type":"object","title":"Pillars"},"message":{"type":"string","title":"Message"}},"type":"object","required":["session_id","questions","pillars","message"],"title":"StartAssessmentResponse"},"SubmitAnswerRequest":{"properties":{"session_id":{"type":"string","title":"Session Id"},"question_id":{"type":"string","title":"Question Id"},"question_text":{"type":"string","title":"Question Text"},"answer":{"type":"string","title":"Answer"},"importance":{"type":"number","title":"Importance"}},"type":"object","required":["session_id","question_id","question_text","answer","importance"],"title":"SubmitAnswerRequest"},"SubmitAnswerResponse":{"properties":{"classification":{"type":"string","title":"Classification"},"score":{"type":"number","title":"Score"},"analysis":{"type":"string","title":"Analysis"}},"type":"object","required":["classification","score","analysis"],"title":"SubmitAnswerResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}